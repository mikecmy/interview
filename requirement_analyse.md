# 爆爆奢技术面试题

1. 用户可以在网站上注册和登录。注册和登录时，只需填写昵称即可。
2. 用户可以修改自己的昵称，但不能跟其它人的昵称重复。

### 基本要求

1. 前端须使用 React 或 Vue 开发。
2. 后端须使用 Node.js 开发。为简化代码，请使用一个内存对象存储所有用户。不要使用数据库。
3. 须使用 Typescript 语言。
4. 须有单元测试。
5. 不要拷贝自己或公司项目并在其上修改。
6. 请仔细审题，不要添加无关本面试题的代码，也不要忽略要求的功能。
7. README.md 须说明项目的启动方式及自动化测试方式。
8. 如使用了脚手架创建工程，请在 README 中说明。

### 进阶要求

- 前端界面自适应屏幕大小。
- 添加编辑器配置文件以方便开发。
- 其它能体现您的技术水平的特点。

---

## 需求分析及做法：（用时 1.25 小时）

### 算法：

思路，两种做法：

- 自写二叉树,估计不算 job 带单元测试，要 4-8 小时

1. 注册时，将昵称转换为 hash，并按字符串顺序插入二叉树
1. 登陆时，将昵称转换为 hash，根据二叉树前序遍历，来快速找到位置
1. 修改时，找到原有二叉树节点，不删除，只是标注其结果无效,
1. 深夜时，重新构建二叉树 job，完成后再替换

- 站在前人肩膀上

  使用 nodejs map，来完成这个功能

### 具体可行性应用场景

- 当用户注册后，则该用户的客户端连接，可以被认为是安全的（https 场景下）
- 登陆时，可以通过昵称+cookie 找到对应的用户（cookie，存入识别唯一码）
- 如果有新设备通过非记录的 cookie 登录，则需要通知老设备（cookie，sessionid 上增加标志位，若有标志位的 req 过来，则返回特殊的 response，让用户确认）
- 同意后，才能绑定新的 cookie，
- 如果用户删除 cookie，则该用户永久就丢失了

**不这么做，任意一个用户都可以通过一个已注册的昵称登录他人账户。。即便是个 demo，这安全性如此拉跨，从需求上感觉就不大合理...**

## 设计扩展：

1. 鉴权和 session id 的操作时两个逻辑步骤，需要拆分，session id 极其值一般都是存高可用 redis ，为了简单，演示项目用了 内存对象简单实现
1. 因为很明显识别出，有多种算法可以实现需求，则需要算法模式，或是 ioc 反向指定算法，方便通过 npm 直接升级即可
1. 若数据量大，则可以根据时间切分，甚至未来根据时间片，做服务切分，部署在不同服务器上

实现估算：

1. 前端 + 后端 + map 搜索 + 框架跑通 1.5 小时
1. 前端 + 后端 + map 搜索 + 框架跑通 + 一些其他功能（前端：ts 反射的自动日志 log，vuex 登录信息缓存及自动刷新） 4 小时
1. 前端 + 后端 + map 搜索 + 框架跑通 + 可行性应用场景登录验证 5-9 小时
1. 前端 + 后端 + map 搜索 + 框架跑通 + 可行性应用场景登录验证 5-9 小时 + 一些其他功能（前端：ts 反射的自动日志 log，vuex 登录信息缓存及自动刷新） 8-12 小时
1. 前端 + 后端 + map 搜索 + 框架跑通 + 可行性应用场景登录验证 5-9 小时 + 一些其他功能（前端：ts 反射的自动日志 log，vuex 登录信息缓存及自动刷新，根据 viewmodle 反射自动生成 mockservice） 12-16 小时
